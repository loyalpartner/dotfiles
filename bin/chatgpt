#!/bin/sh

for id in $(swaymsg -t get_tree | jq '.. | select(.type? == "floating_con") | .id');do
  swaymsg "[con_id=$id]" move scratchpad
done

if swaymsg -t get_tree | jq -e '.. | select(.app_id? and (.app_id | test("chrome-chat.openai.com.")))'; then
  swaymsg [app_id="chrome-chat.openai.com.*"] scratchpad show
else
  google-chrome-stable --app=https://chat.openai.com
fi
