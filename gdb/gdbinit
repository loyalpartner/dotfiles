#
# manual:
#   https://sourceware.org/gdb/current/onlinedocs/gdb/index.html
#
python
from os.path import exists, expandvars

init_config=expandvars('$HOME/dotfiles/gdb/init.py')
gdb.execute('source %s' % init_config)
end

set pagination off
set history save yes
set history size 10000
set history remove-duplicates unlimited

set print object on
set print pretty on

set auto-load python-scripts on
set auto-load safe-path ~/company/gdb-scripts/debug-protobuf.py
# add-auto-load-safe-path /home/lee/company/gdb-scripts/debug-protobuf.py
# add-auto-load-scripts-directory /home/lee/company/gdb-scripts


skip -gfi /usr/include/c++/*/bits/*.h
skip -gfi /usr/src/debug/gcc-build/x86_64-pc-linux-gnu/*/include/bits/*.h
skip -gfi /usr/src/debug/*/*/*/*.cc
skip -gfi /home/lee/Documents/protobuf/src/google/protobuf/*.pb.h
skip -gfi external/com_google_absl/absl/*/*.h

set substitute-path /proc/self/cwd/ /home/lee/Documents/protols/server/addon/protobuf/

